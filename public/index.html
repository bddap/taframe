<!DOCTYPE html>
<html>
  <head>
    <title>Textures - A-Frame School</title>
    <meta name="description" content="Textures - A-Frame School">
	<script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@dc8236cb378bc1f79cae813e2a59b0cbd5e21f24/dist/aframe-master.min.js"></script>
  </head>
  <body>
    <a-scene>
      <a-sphere
		radius="10"
		position="0 6 0"
		material="
		  src: https://live.staticflickr.com/65535/50410020572_bf64145a9d_o_d.jpg;
		  side: back;
		"
		scale="1 1 1"
		shadow="receive: true"
		></a-sphere>

	   <a-text
		 id="log"
		 position="-2 0.5 -4"
		 color="tomato"
		 value="bddap"
		 <!-- shadow="receive: true; cast: true" -->
		 ></a-text>
	   <a-sphere
		 src=""
		 radius="0.5"
		 position="0 0.5 -3"
		 color="#555"
		 shadow="receive: true; cast: true"
		 ></a-sphere>
	   <a-cone
		 src=""
		 height="2"
		 radius-top="0.1"
		 position="0 1 -6"
		 color="#342"
		 shadow="receive: true; cast: true"
		 ></a-cone>
	   <a-box
		 src=""
		 position="2 0.5 -4"
		 color="#954"
		 shadow="receive: true; cast: true"
		 ></a-box>
	   
	   <a-plane
		 src=""
		 rotation="-90 0 0"
		 height="100"
		 width="100"
		 color="#38a"
		 shadow="receive: true"
		 ></a-plane>
	   
	   <!-- <a-light type="ambient" color="#445451"></a-light> -->
	   <!-- <a-light type="point" intensity="2" position="2 4 4"></a-light> -->

	   <!-- <a-light id="spotlight" angle="30" penumbra="0.05" type="spot" position="2 4 4" castShadow="true"></a-light> -->
	   <a-entity
		 id="spotlight"
		 light="
		   angle: 30;
		   penumbra: 0.05;
		   type: spot;
		   castShadow: true;
		   target: #lightTarget;
		 "
		 position="2 3 0"
		 ></a-entity>
       <a-entity
		 id="lightTarget"
		 position="0 1 -3"
		 ></a-entity>
	   
	   <a-entity
		 id="lefthand"
		 hand-tracking-controls="hand: left"
		 ></a-entity>
	   <a-entity
		 id="righthand"
		 hand-tracking-controls="hand: right"
		 ></a-entity>
	</a-scene>

	<script>
	  const qs = q => document.querySelector(q);
	  const eid = id => document.getElementById(id);
	  const txt = eid('log');
	  const lh = eid('lefthand');
	  const sp = eid('spotlight');
	  const lt = eid('lightTarget');

	  eid('lefthand').addEventListener('pinchmoved', e => {
		  sp.setAttribute('position', e.detail.position);
		  return true;
	  });
	  eid('righthand').addEventListener('pinchmoved', e => {
          lt.setAttribute('position', e.detail.position);
		  return true;
	  });
	  
	  function log(text) {
		  console.log(text);
		  // txt.setAttribute('text', text);
	  }
	  setInterval(() => {
		  // log(lh.components);
	  }, 1000);
	</script>
  </body>
</html>
